<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="Latin1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="">
    <title>Document</title>
</head>

<body>
    <div>
        <h3></h3>
    </div>

    <button onclick="obrasAdministracionEstado()" name="Obras" type="button">Licitaciones de Obras de la Administración
        General del Estado</button>
    <p id="infoObras"></p>
    <br></br>

    <button onclick="suministrosEstado()" name="Suministros" type="button">Licitaciones de Suministros de la
        Administración
        General del Estado
    </button>
    <p id="infoSuministros"></p>
    <br></br>

    <button onclick="serviciosEstado()" name="Servicios" type="button">Licitaciones de Servicios de la Administración
        General del Estado
    </button>
    <p id="infoServicios"></p>
    <br></br>

    <button onclick="concesionObras()" name="Concesión" type="button">Licitaciones de Concesiones de Obras Públicas de
        la Administración
        General del Estado
    </button>
    <div id="infoConcesion"></div>
    <br></br>


    <button onclick="compraPublicaInnovadora()" name="CompraPública" type="button">Licitaciones de Compra Pública
        Innovadora
    </button>
    <div id="infoCompraPublica"></div>
    <br></br>



    <script>



        fetch(`/data`)
            .then(function obtenerRespuesta(respuesta) {
                return respuesta.text();
            })

            .then(function obtenerDatos(datos) {
                const resultados = JSON.parse(datos);
                console.log(resultados);
                resultadosObras = resultados;
                resultadosSuministros = resultados;
                resultadosServicios = resultados;
                resultadosConcesion = resultados;
                resultadosCompraPublica = resultados;
            }
            );


        //1. OBRAS ADMINISTRACIÓN GENERAL DEL ESTADO
        let resultadosObras;

        function obrasAdministracionEstado() {
            document.getElementById("infoObras").innerHTML = "";
            for (let i = 0; i < resultadosObras.data.obras.items.length; i++) {
                document.getElementById("infoObras").innerHTML += `
                  
                    <ol class="info">
                    <h4><strong> 
                ${resultadosObras.data.obras.items[i].title}
                    </strong></h4>
         
                     <li>
                ${resultadosObras.data.obras.items[i].contentSnippet}
                     </li>
                     <li>
                ${resultadosObras.data.obras.items[i].pubDate}
                     </li>
                     <li>
                     <a href=" ${resultadosObras.data.obras.items[i].link}">
                ${resultadosObras.data.obras.items[i].link}
                     </a>
                     </li>
                    </ol>
                
                    `
            }
          
        }

        //2. SUMINISTROS DEL ESTADO
        let resultadosSuministros; //Outside the function

        function suministrosEstado() {
            console.log(resultadosSuministros.data.suministros.items)
            document.getElementById("infoSuministros").innerHTML = "";

            for (let i = 0; i < resultadosSuministros.data.suministros.items.length; i++) {

                document.getElementById("infoSuministros").innerHTML += `

                <div> 
                    <ol>
                    <h4><strong> 
                ${resultadosSuministros.data.suministros.items[i].title}
                    </strong></h4>
         
                    
                     <li>
                ${resultadosSuministros.data.suministros.items[i].contentSnippet}
                     </li>
                     <li>
                ${resultadosSuministros.data.suministros.items[i].pubDate}
                     </li>
                     <li>
                     <a href="${resultadosSuministros.data.suministros.items[i].link}">
                ${resultadosSuministros.data.suministros.items[i].link}
                     </a>
                     </li>
                    </ol>
                </div>
        `
            }
        }


        //3. SERVICIOS DEL ESTADO
        let resultadosServicios; //Outside the function

        function serviciosEstado() {
            console.log(resultadosServicios.data.servicios.items)
            document.getElementById("infoServicios").innerHTML = "";

            for (let i = 0; i < resultadosServicios.data.servicios.items.length; i++) {

                document.getElementById("infoServicios").innerHTML += `
                  <div> 
                    <ol>
                    <h4><strong> 
                ${resultadosServicios.data.servicios.items[i].title}
                    </strong></h4>
         
                     <li>
                ${resultadosServicios.data.servicios.items[i].contentSnippet}
                     </li>
                     <li>
                ${resultadosServicios.data.servicios.items[i].pubDate}
                     </li>
                     <li>
                     <a href="${resultadosObras.data.servicios.items[i].link}">
                ${resultadosServicios.data.servicios.items[i].link}
                     </a>
                     </li>
                    </ol>
                </div>
                  `
            }
        }


        // 4.Concesión de Obras Públicas
        let resultadosConcesion; //Outside the function

        function concesionObras() {
            console.log(resultadosObras.data.obrasConcesiones.items)
            document.getElementById("infoConcesion").innerHTML = "";

            for (let i = 0; i < resultadosConcesion.data.obrasConcesiones.items.length; i++) {

                document.getElementById("infoConcesion").innerHTML += `
          <div> 
                    <ol>
                    <h4><strong> 
                ${resultadosConcesion.data.resultadosConcesion.items[i].title}
                    </strong></h4>
         
                     <li>
                ${resultadosConcesion.data.resultadosConcesion.items[i].contentSnippet}
                     </li>
                     <li>
                ${resultadosConcesion.data.resultadosConcesion.items[i].pubDate}
                     </li>
                     <li>
                     <a href=" ${resultadosConcesion.data.resultadosConcesion.items[i].link}">
                ${resultadosConcesion.data.resultadosConcesion.items[i].link}
                     </a>
                     </li>
                    </ol>
                </div>
          `
            }
        }


        //5. Licitaciones de Compra Pública Innovadora
        let resultadosCompraPublica; //Outside the function

        function compraPublicaInnovadora() {
            console.log(resultadosCompraPublica.data.compras.items)
            document.getElementById("infoCompraPublica").innerHTML = "";

            for (let i = 0; i < resultadosCompraPublica.data.compras.items.length; i++) {

                document.getElementById("infoCompraPublica").innerHTML += `
                

                <div> 
                    <ol>
                    <h4><strong> 
                ${resultadosCompraPublica.data.compras.items[i].title}
                    </strong></h4>
         
                     <li>
                ${resultadosCompraPublica.data.compras.items[i].contentSnippet}
                     </li>
                     <li>
                ${resultadosCompraPublica.data.compras.items[i].pubDate}
                     </li>
                     <li>
                     <a href="${resultadosCompraPublica.data.obras.items[i].link}">
                ${resultadosCompraPublica.data.obras.items[i].link}
                     </a>
                     </li>
                    </ol>
                </div>
             `
            }
        }


    </script>
</body>

</html>